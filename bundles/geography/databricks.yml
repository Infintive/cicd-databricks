bundle:
  name: geography

include:
  - resources/*/*.yml
  - resources/*.yml

# sync:
#   paths:
#     - ../../src/dist
#     - .

artifacts:
  infinitive:
    type: whl
    path: ../../src/dist/

variables:
  env:
    description: The environment (dev, stg, prd)
    default: dev
  development_mode:
    description: The mode to run in when in development
    default: production
  git_source:
    description: The source of the git repository
    type: complex
    default:
      git_url: https://github.com/Infintive/cicd-databricks
      git_provider: github
      git_branch: main

targets:

  dev: &target_env
    default: true
    mode: ${var.development_mode}
    workspace:
      root_path: /Workspace/Users/${workspace.current_user.userName}/.bundle/${bundle.name}/${bundle.target}

  stg: 
    <<: *target_env
    default: false

  prd: 
    <<: *target_env
    default: false
